# -*- coding: utf-8 -*-
"""
ui/main_window.py  [MUTABLE]
============================
메인 윈도우 스켈레톤. PyQt5 기반.
"""
from __future__ import annotations
import sys
import logging

logger = logging.getLogger(__name__)

try:
    from PyQt5.QtWidgets import QMainWindow, QVBoxLayout, QWidget, QPushButton, QLabel
except ImportError:
    logger.warning("PyQt5 not found; UI disabled")
    QMainWindow = object


class MainWindow(QMainWindow):
    def __init__(self, engine=None, parent=None):
        super().__init__(parent)
        self.engine = engine
        self.setWindowTitle("KOSPI Big10 IBS Trading System")
        self.setMinimumSize(1200, 800)
        self._init_ui()

    def _init_ui(self):
        central = QWidget()
        self.setCentralWidget(central)
        layout = QVBoxLayout(central)

        self.status_label = QLabel("Ready")
        layout.addWidget(self.status_label)

        btn_screen = QPushButton("Run Screening")
        btn_screen.clicked.connect(self._on_screen)
        layout.addWidget(btn_screen)

        btn_backtest = QPushButton("Run Backtest")
        btn_backtest.clicked.connect(self._on_backtest)
        layout.addWidget(btn_backtest)

    def _on_screen(self):
        self.status_label.setText("Screening...")
        # TODO: QThread worker 연결
        logger.info("Screening started from UI")

    def _on_backtest(self):
        self.status_label.setText("Backtesting...")
        # TODO: QThread worker 연결
        logger.info("Backtest started from UI")
